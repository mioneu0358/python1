# # Programming assignment 1: Letters and numbers (4 points) ----------------------------------------------------------------------------------------------------------------------------------------------------------------------
# #
# # ONE + TWO - THREE - FOUR + FIVE = 1
# # ìœ„ ë°©ì •ì‹ì€ ê° ë‹¨ì–´ë¥¼ í•´ë‹¹í•˜ëŠ” ìˆ«ìë‚˜ ê·¸ ë‹¨ì–´ì˜ ê¸€ì ìˆ˜ë¡œ ëŒ€ì²´í•´ë„ ì„±ë¦½í•©ë‹ˆë‹¤. ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ í•´ë„ ê²°ê³¼ëŠ” 1ì…ë‹ˆë‹¤. ë˜ ë‹¤ë¥¸ ì˜ˆëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
# # ONE + TWO - THREE - FOUR + FIVE - SIX + SEVEN + EIGHT + NINE - TEN + ELEVEN + TWELVE - THIRTEEN - FOURTEEN = 5
# # ì…ë ¥
# # ì˜ì–´ ìˆ«ì ì´ë¦„(ëŒ€ë¬¸ì)ìœ¼ë¡œ êµ¬ì„±ëœ ì‹ìœ¼ë¡œ, ê° ì´ë¦„ì€ ë”í•˜ê¸° ê¸°í˜¸(+) ë˜ëŠ” ë¹¼ê¸° ê¸°í˜¸(-)ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤. ë”í•˜ê¸°ì™€ ë¹¼ê¸° ê¸°í˜¸ ì „í›„ì—ëŠ” ê³µë°±ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# # ì¶œë ¥
# # ê° ì´ë¦„ì„ ê·¸ ì´ë¦„ì˜ ê¸€ì ìˆ˜ë¡œ ëŒ€ì²´í•œ í›„ ì‹ì„ í‰ê°€í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
# #
# # íŒ
# # ì´ ê²°ê³¼ë¥¼ ê³„ì‚°í•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•ì€ ë”í•´ì•¼ í•˜ëŠ” ì´ë¦„ì˜ ê° ê¸€ìë¥¼ +1ë¡œ, ë¹¼ì•¼ í•˜ëŠ” ì´ë¦„ì˜ ê° ê¸€ìë¥¼ -1ë¡œ ì„¸ëŠ” ê²ƒì…ë‹ˆë‹¤.
# #
# # ì˜ˆì œ
# # ì…ë ¥:
# # ONE + TWO - THREE - FOUR + FIVE
# # ì¶œë ¥:
# # 1
# #
# # ì…ë ¥:
# # ONE+TWO-THREE-FOUR+FIVE-SIX+SEVEN+EIGHT+NINE-TEN+ELEVEN+TWELVE-THIRTEEN-FOURTEEN
# # ì¶œë ¥:
# # 5

#
# exp = input().replace(' ','')
# sign = 1
# result = 0
# for i in exp:
#     if i == '+':
#         sign = 1
#     elif i == '-':
#         sign = -1
#     else:
#         result += sign
# print(result)

# Programming assignment 2: Fifty fifty (5 points)----------------------------------------------------------------------------------------------------------------------------------------------------------------------

# ë§ì€ ë¹„ì •ìƒì ì´ê³  ëª¨ìˆœëœ ë¬¸ë²• ê·œì¹™ë“¤ë¡œ ì¸í•´, ì˜ì–´ëŠ” ë§ì€ ë³µì¡í•œ ìš”ì†Œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë™ì¼í•œ í˜„ìƒì´ ë§ì€ ì˜ì–´ ì‚¬ì „ì— ìˆëŠ” ë‹¨ì–´ë“¤ì—ê²Œë„ ì ìš©ë©ë‹ˆë‹¤.
# ë‹¨ì–´ "cabbageheaded"ëŠ” ì•ŒíŒŒë²³ì˜ ì²« ì ˆë°˜(aâ€“m)ìœ¼ë¡œë§Œ êµ¬ì„±ëœ ê°€ì¥ ê¸´ ë‹¨ì–´ì…ë‹ˆë‹¤. ë‹¨ì–´ "nontortuous"ëŠ” ì•ŒíŒŒë²³ì˜ ë‘ ë²ˆì§¸ ì ˆë°˜(nâ€“z)ìœ¼ë¡œë§Œ êµ¬ì„±ëœ ê°€ì¥ ê¸´ ë‹¨ì–´ì…ë‹ˆë‹¤.

# ìš°ë¦¬ëŠ” ë˜í•œ ì•ŒíŒŒë²³ì˜ ì²« ì ˆë°˜ê³¼ ë‘ ë²ˆì§¸ ì ˆë°˜ì˜ ë¬¸ìë“¤ì´ êµëŒ€ë¡œ ë‚˜ì˜¤ëŠ” ë‹¨ì–´ë“¤ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²« ì ˆë°˜ì˜ ì•ŒíŒŒë²³ ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” ê°€ì¥ ê¸´ êµëŒ€ ë‹¨ì–´ë“¤ì€ 12ê¸€ìì…ë‹ˆë‹¤.
# ì˜ˆë¡œëŠ” "comparatives"ì™€ "itinerariums"ê°€ ìˆìŠµë‹ˆë‹¤. ë‘ ë²ˆì§¸ ì ˆë°˜ì˜ ì•ŒíŒŒë²³ ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” ê°€ì¥ ê¸´ êµëŒ€ ë‹¨ì–´ë“¤ì€ 13ê¸€ìì…ë‹ˆë‹¤.
# ì˜ˆë¡œëŠ” "paranephritis"ì™€ "phraseography"ê°€ ìˆìŠµë‹ˆë‹¤.

# ê³¼ì œ
# ë‹¨ì–´ëŠ” ì˜¤ì§ ëŒ€ë¬¸ìì™€ ì†Œë¬¸ìë¡œë§Œ êµ¬ì„±ë©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ê³¼ì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
alphabet = " ABCDEFGHIJKLMNOPQRSTUVWXYZ"
def position(c):
    return alphabet.find(c.upper())
# first_position í•¨ìˆ˜: ë‹¨ì–´(str)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë‹¨ì–´ì—ì„œ ì•ŒíŒŒë²³ ìˆœì„œìƒ ì²« ë²ˆì§¸ ë¬¸ìì˜ ìœ„ì¹˜(int; A=1, B=2, C=3, â€¦, Z=26)ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
def first_position(string):
    arr = []
    for i in string:
        arr.append(position(i))
    return min(arr)
# last_position í•¨ìˆ˜: ë‹¨ì–´(str)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë‹¨ì–´ì—ì„œ ì•ŒíŒŒë²³ ìˆœì„œìƒ ë§ˆì§€ë§‰ ë¬¸ìì˜ ìœ„ì¹˜(int; A=1, B=2, C=3, â€¦, Z=26)ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
def last_position(string):
    arr = []
    for i in string:
        arr.append(position(i))
    return max(arr)
# isfirst í•¨ìˆ˜: ë‹¨ì–´(str)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë‹¨ì–´ê°€ ì•ŒíŒŒë²³ì˜ ì²« ì ˆë°˜(aâ€“m)ìœ¼ë¡œë§Œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶€ìš¸ ê°’(bool)ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
def isfirst(string):
    for c in string:
        idx = position(c)
        if idx >= 14: return False
    return True
# issecond í•¨ìˆ˜: ë‹¨ì–´(str)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë‹¨ì–´ê°€ ì•ŒíŒŒë²³ì˜ ë‘ ë²ˆì§¸ ì ˆë°˜(nâ€“z)ìœ¼ë¡œë§Œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶€ìš¸ ê°’(bool)ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
def issecond(string):
    for c in string:
        idx = position(c)
        if idx < 14: return False
    return True
# isalternate í•¨ìˆ˜: ë‹¨ì–´(str)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë‹¨ì–´ê°€ ì•ŒíŒŒë²³ì˜ ì²« ì ˆë°˜(aâ€“m)ê³¼ ë‘ ë²ˆì§¸ ì ˆë°˜(nâ€“z)ì˜ ë¬¸ìë“¤ì´ êµëŒ€ë¡œ ë‚˜ì˜¤ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶€ìš¸ ê°’(bool)ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
# ì´ í•¨ìˆ˜ë“¤ ì¤‘ ì–´ë–¤ ê²ƒë„ ëŒ€ë¬¸ìì™€ ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.
def isalternate(string):
    for i in range(len(string)-1):
        a = isfirst(string[i])
        b = issecond((string[i+1]))
        if a != b: return False
    return True
if __name__ == "__main__":
    # print(position('G'))
    # 7
    # print(position('v'))
    # 22
    #
    # print(first_position('FIDDLEDEEDEE'))
    # 4
    # print(first_position('soupspoons'))
    # 14
    # print(first_position('CoMpArAtIvEs'))
    # 1
    # print(first_position('pArAnEpHrItIs'))
    # 1
    #
    # print(last_position('FIDDLEDEEDEE'))
    # 12
    # print(last_position('soupspoons'))
    # 21
    # print(last_position('CoMpArAtIvEs'))
    # 22
    # print(last_position('pArAnEpHrItIs'))
    # 20
    #
    # print(isfirst('FIDDLEDEEDEE'))
    # True
    # print(isfirst('soupspoons'))
    # False
    # print(isfirst('CoMpArAtIvEs'))
    # False
    # print(isfirst('pArAnEpHrItIs'))
    # False

    # print(issecond('FIDDLEDEEDEE'))
    # False
    # print(issecond('soupspoons'))
    # True
    # print(issecond('CoMpArAtIvEs'))
    # False
    # print(issecond('pArAnEpHrItIs'))
    # False

    print(isalternate('FIDDLEDEEDEE'))
    False
    print(isalternate('soupspoons'))
    False
    print(isalternate('CoMpArAtIvEs'))
    True
    print(isalternate('pArAnEpHrItIs'))
    True


# Programming assignment 3: Three test tubes (6 points)  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------
# í”„ë¡œê·¸ë¨ ê³¼ì œ 3: ì„¸ ê°œì˜ ì‹œí—˜ê´€ (6ì )
# ì„¸ ê°œì˜ ì‹œí—˜ê´€ì´ ìˆìœ¼ë©°, ìµœëŒ€ ìš©ëŸ‰ì€ ê°ê° 3, 5, 8 ë‹¨ìœ„ì…ë‹ˆë‹¤. ì²« ë‘ ê°œì˜ ì‹œí—˜ê´€ì€ ë¹„ì–´ ìˆê³ , ì„¸ ë²ˆì§¸ ì‹œí—˜ê´€ì€ ì•¡ì²´ë¡œ ê°€ë“ ì°¨ ìˆìŠµë‹ˆë‹¤.
# ì‹œí—˜ê´€ì—ëŠ” ëˆˆê¸ˆì´ ì—†ìœ¼ë¯€ë¡œ ì‹œí—˜ê´€ì„ ì™„ì „íˆ ì±„ìš°ì§€ ì•ŠëŠ” ì•¡ì²´ì˜ ì–‘ì„ ì •í™•íˆ ì¸¡ì •í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì†ŒìŠ¤ ì‹œí—˜ê´€ì—ì„œ ëª©ì ì§€ ì‹œí—˜ê´€ìœ¼ë¡œ ì•¡ì²´ë¥¼ ë¶€ì„ ë•Œ ì†ŒìŠ¤ê°€ ë¹„ê±°ë‚˜
# ëª©ì ì§€ê°€ ê°€ë“ ì°° ë•Œê¹Œì§€ ë©ˆì¶”ì§€ ì•ŠëŠ” ë‹¨ì¼ ë‹¨ê³„ì˜ ë¶€ìŒì„ í†µí•´ 4 ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ ì •í™•í•˜ê²Œ ì¸¡ì •í•˜ëŠ” ë° í•„ìš”í•œ ë‹¨ê³„ë¥¼ ì°¾ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤. ì•¡ì²´ê°€ í˜ëŸ¬ë‚´ë¦¬ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.
#
# ë‹¤ìŒ ë‹¤ì´ì–´ê·¸ë¨ì€ 6ë‹¨ê³„ì—ì„œ 4ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ ì •í™•íˆ ì¸¡ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ëŠ” ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ë‹¨ê³„ ìˆ˜ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ 6ë‹¨ê³„ì—ì„œ 4ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ê°€ëŠ¥ì„±ë„ ìˆìŠµë‹ˆë‹¤.
# ê° ë‹¨ê³„ì—ì„œ ê° ì‹œí—˜ê´€ì´ ì •ìˆ˜ ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ í¬í•¨í•˜ê³  ìˆìŒì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ë§ˆí‚¹ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤. ê° ë‹¨ê³„ì—ì„œ ì–‡ì€ ë…¹ìƒ‰ í™”ì‚´í‘œëŠ” ì†ŒìŠ¤ì—ì„œ ëª©ì ì§€ë¡œ í–¥í•©ë‹ˆë‹¤.
#
# ê³¼ì œ ì„¤ëª…
# ì´ í¼ì¦ì€ ğ‘› âˆˆ â„•0 ê°œì˜ ì‹œí—˜ê´€ìœ¼ë¡œ ì¼ë°˜í™”í•  ìˆ˜ ìˆìœ¼ë©°, 0ë¶€í„° ì‹œì‘í•˜ì—¬ ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë²ˆí˜¸ë¥¼ ë§¤ê¹ë‹ˆë‹¤. ì‹œí—˜ê´€ì˜ ìš©ëŸ‰ì€ íŠœí”Œ (ğ‘0, ğ‘1, ..., ğ‘ğ‘›âˆ’1)ë¡œ ì„¤ëª…ë˜ë©°,
# ì—¬ê¸°ì„œ ì‹œí—˜ê´€ ğ‘–ëŠ” ìµœëŒ€ ğ‘ğ‘– âˆˆ â„•0 (ì •ìˆ˜) ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (0 â‰¤ ğ‘– < ğ‘›). ì‹œí—˜ê´€ì˜ ìƒíƒœëŠ” íŠœí”Œ (ğ‘£0, ğ‘£1, ..., ğ‘£ğ‘›âˆ’1)ë¡œ ì„¤ëª…ë˜ë©°,
# ì—¬ê¸°ì„œ ì‹œí—˜ê´€ ğ‘–ëŠ” í˜„ì¬ ğ‘£ğ‘– âˆˆ â„• (ì •ìˆ˜; 0 â‰¤ ğ‘£ğ‘– < ğ‘ğ‘–) ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤ (0 â‰¤ ğ‘– < ğ‘›). ë”°ë¼ì„œ ìš©ëŸ‰ì€ ëª¨ë“  ì‹œí—˜ê´€ì´ ê°€ë“ ì°¬ ìƒíƒœë¡œ ì„¤ëª…ë©ë‹ˆë‹¤.
# ì„œë‘ì˜ í¼ì¦ì—ì„œ ì„¸ ê°œì˜ ì‹œí—˜ê´€ì€ ìš©ëŸ‰ (3, 5, 8)ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ì´ˆê¸° ìƒíƒœëŠ” (0, 0, 8)ì…ë‹ˆë‹¤.
#
# í•´ê²°ì±…ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì¼ë°˜í™”ëœ í¼ì¦ì— ëŒ€í•œ í‘œì¤€ ì ˆì°¨ê°€ ìˆìŠµë‹ˆë‹¤. ì´ ì ˆì°¨ëŠ” ì²˜ë¦¬ë˜ì§€ ì•Šì€ ìƒíƒœë¥¼ ì¶”ì í•˜ê¸° ìœ„í•´ í ğ‘¸ë¥¼ ì‚¬ìš©í•˜ê³ , í ğ‘¸ì— í•œ ë²ˆì´ë¼ë„ ì¶”ê°€ëœ ëª¨ë“  ìƒíƒœì˜ ì´ì „ ìƒíƒœë¥¼ ê¸°ì–µí•©ë‹ˆë‹¤.
# í ğ‘¸ëŠ” ì²˜ìŒì—ëŠ” ì´ˆê¸° ìƒíƒœë§Œ í¬í•¨í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ë”•ì…”ë„ˆë¦¬ ğ‘ƒëŠ” ìƒíƒœë¥¼ ì´ì „ ìƒíƒœì— ë§¤í•‘í•˜ì—¬ ì´ì „ ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
# ì´ˆê¸°ì—ëŠ” ë”•ì…”ë„ˆë¦¬ ğ‘ƒê°€ ì´ˆê¸° ìƒíƒœë¥¼ ê°’ Noneì— ë§¤í•‘í•˜ì—¬ ì´ˆê¸° ìƒíƒœì— ì´ì „ ìƒíƒœê°€ ì—†ìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
#
# ì ˆì°¨ì˜ ê° ë‹¨ê³„ëŠ” í ğ‘¸ì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ìƒíƒœ ğ‘ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë¨¼ì € í ğ‘¸ì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ìƒíƒœ ğ‘ê°€ ì œê±°ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ìƒíƒœ ğ‘ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆëŠ” ëª¨ë“  ê°€ëŠ¥í•œ ìƒíƒœê°€ ê²°ì •ë©ë‹ˆë‹¤.
# ì´ëŸ¬í•œ í›„ì† ìƒíƒœëŠ” ì‹œí—˜ê´€ ğ‘¥(ì†ŒìŠ¤)ì—ì„œ ì‹œí—˜ê´€ ğ‘¦(ëª©ì ì§€)ë¡œ ì•¡ì²´ë¥¼ ë¶€ì–´ ì–»ìŠµë‹ˆë‹¤.
# ì´ëŠ” ğ‘–) ì†ŒìŠ¤ ğ‘¥ì™€ ëª©ì ì§€ ğ‘¦ê°€ ë‹¤ë¥¸ ì‹œí—˜ê´€ì¸ ê²½ìš°, ğ‘–ğ‘–) ì†ŒìŠ¤ ğ‘¥ê°€ ë¹„ì–´ ìˆì§€ ì•Šì€ ê²½ìš°, ğ‘–ğ‘–ğ‘–) ëª©ì ì§€ ğ‘¦ê°€ ê°€ë“ ì°¨ ìˆì§€ ì•Šì€ ê²½ìš°ì—ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
# ì•„ë˜ ê·¸ë¦¼ì€ ì„œë‘ì˜ í¼ì¦ì˜ ì´ˆê¸° ìƒíƒœ (0, 0, 8)ê°€ ìƒíƒœ (0, 5, 3) ë° (3, 0, 5)ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
# ì™¼ìª½ì—ì„œëŠ” ì–‡ì€ ë…¹ìƒ‰ ì„ ì´ ìƒíƒœ (0, 0, 8)ì—ì„œ ì‹œí—˜ê´€ 2ì—ì„œ ì‹œí—˜ê´€ 1ë¡œ ì•¡ì²´ë¥¼ ë¶€ì–´ ìƒíƒœ (0, 5, 3)ë¡œ ì´ì–´ì§ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
# ì˜¤ë¥¸ìª½ì—ì„œëŠ” ì–‡ì€ ë…¹ìƒ‰ ì„ ì´ ìƒíƒœ (0, 0, 8)ì—ì„œ ì‹œí—˜ê´€ 2ì—ì„œ ì‹œí—˜ê´€ 0ìœ¼ë¡œ ì•¡ì²´ë¥¼ ë¶€ì–´ ìƒíƒœ (3, 0, 5)ë¡œ ì´ì–´ì§ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ìƒíƒœ (0, 0, 8)ì—ì„œ ì†ŒìŠ¤ì™€ ëª©ì ì§€ì˜ ë‹¤ë¥¸ ì¡°í•©ì—ì„œëŠ” ì•¡ì²´ë¥¼ ë¶€ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
#
# ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒíƒœ ğ‘ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆëŠ” ëª¨ë“  ìƒíƒœê°€ ì¦ê°€í•˜ëŠ” ìˆœì„œë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤: ì´ ìˆœì„œëŠ” ë¨¼ì € ìœ„ì¹˜ 0ì—ì„œ ì‹œí—˜ê´€ì˜ ì•¡ì²´ ì–‘ì„ ë¹„êµí•˜ê³ , ìœ„ì¹˜ ğ‘¥ì˜ ì‹œí—˜ê´€ì´ ë™ì¼í•œ ì•¡ì²´ ì–‘ì„ í¬í•¨í•˜ê³  ìˆëŠ” ë™ì•ˆ
# ìœ„ì¹˜ ğ‘¥ + 1ì—ì„œ ì‹œí—˜ê´€ì˜ ì•¡ì²´ ì–‘ì„ ë¹„êµí•˜ì—¬ ê²°ì •ë©ë‹ˆë‹¤. ì´ì „ì— í ğ‘¸ì— ì¶”ê°€ëœ ì ì´ ì—†ëŠ” í›„ì† ìƒíƒœ ğ‘ ì— ëŒ€í•´ì„œëŠ” ìƒíƒœ ğ‘ ë¥¼ íì˜ ëì— ì¶”ê°€í•˜ê³ , ìƒíƒœ ğ‘ ê°€ ìƒíƒœ ğ‘ë¥¼ ë”°ë¦„ì„ ë”•ì…”ë„ˆë¦¬ ğ‘ƒì—ì„œ ìƒíƒœ ğ‘ ë¥¼ ğ‘ì— ë§¤í•‘í•˜ì—¬ ê¸°ì–µí•©ë‹ˆë‹¤.
#
# ì•„ë˜ëŠ” ì„œë‘ì˜ í¼ì¦ì—ì„œ ì‹œí—˜ê´€ì— ëŒ€í•œ í‘œì¤€ ì ˆì°¨ì˜ ì§„í–‰ ìƒí™©ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ˆê¸° ìƒíƒœ (0, 0, 8)ëŠ” íŠ¸ë¦¬ êµ¬ì¡°ì˜ ë§¨ ìœ„ì— ìˆìŠµë‹ˆë‹¤. í™”ì‚´í‘œëŠ” ê° ìƒíƒœë¥¼ ê°€ëŠ¥í•œ ëª¨ë“  í›„ì† ìƒíƒœì™€ ì—°ê²°í•©ë‹ˆë‹¤.
# ì´ëŸ¬í•œ í™”ì‚´í‘œëŠ” ë”•ì…”ë„ˆë¦¬ ğ‘ƒì— ê¸°ë¡ë©ë‹ˆë‹¤. ìƒíƒœê°€ í ğ‘¸ì— ì¶”ê°€ë˜ê³  ì œê±°ë˜ëŠ” ìˆœì„œëŠ” íŠ¸ë¦¬ êµ¬ì¡°ì˜ íŒŒë€ìƒ‰ ìƒíƒœë¥¼ ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½, ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½ëŠ” ì¼ë°˜ì ì¸ ì½ê¸° ìˆœì„œì— ë”°ë¼ ì–»ì–´ì§‘ë‹ˆë‹¤.
# ë” ì´ìƒ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ” í›„ì† ìƒíƒœëŠ” íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ ì£¼í™©ìƒ‰ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
#
# ì„œë‘ì˜ í¼ì¦ì— ëŒ€í•œ ì‹œí—˜ê´€ì— ëŒ€í•œ í‘œì¤€ ì ˆì°¨ê°€ ê±°ì¹˜ëŠ” ì—°ì†ì ì¸ ë‹¨ê³„ì— ëŒ€í•œ í‘œëŠ” ë‹¤ìŒì„ í¬í•¨í•©ë‹ˆë‹¤: ğ‘–) íì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ì²˜ë¦¬ë˜ëŠ” ìƒíƒœ, ğ‘–ğ‘–) ê·¸ í›„ì† ìƒíƒœ, ğ‘–ğ‘–ğ‘–) íì—ì„œ ìˆ˜í–‰ë˜ëŠ” ì‘ì—….
# ë‹¤ìŒ ìƒíƒœëŠ” ì´ì „ ë‹¨ê³„ì—ì„œ íì— ì¶”ê°€ëœ ê²½ìš° ë” ì´ìƒ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ì£¼í™©ìƒ‰ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤. íì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ì‚­ì œëœ ìƒíƒœëŠ” ë¹¨ê°„ìƒ‰ìœ¼ë¡œ êµì°¨í•˜ì—¬ ìƒ‰ì¹ ë©ë‹ˆë‹¤. íì˜ ëì— ì¶”ê°€ëœ ìƒíƒœëŠ” ì´ˆë¡ìƒ‰ìœ¼ë¡œ ìƒ‰ì¹ ë©ë‹ˆë‹¤.
#
# ê³¼ì œ:
# ì ˆì°¨ê°€ ë©ˆì¶”ëŠ” ë‘ ê°€ì§€ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. í ğ‘„ê°€ ë” ì´ìƒ ì–´ë–¤ ìƒíƒœë„ í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì ˆì°¨ëŠ” ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ìœ¼ë©° ìš”ì²­ëœ ì•¡ì²´ì˜ ì–‘ì„ ì‹œí—˜ê´€ìœ¼ë¡œ ì •í™•í•˜ê²Œ ì¸¡ì •í•  ìˆ˜ ì—†ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
# í ğ‘„ì˜ ì‹œì‘ ë¶€ë¶„ì— ìˆëŠ” ìƒíƒœ ğ‘ê°€ ìš”ì²­ëœ ì–‘ì˜ ì•¡ì²´ë¥¼ í¬í•¨í•˜ëŠ” ì‹œí—˜ê´€ì„ ê°€ì§€ê³  ìˆëŠ” ê²½ìš°, ìš°ë¦¬ëŠ” ë”•ì…”ë„ˆë¦¬ ğ‘ƒë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ˆê¸° ìƒíƒœì—ì„œ ìƒíƒœ ğ‘ê¹Œì§€ì˜ ê²½ë¡œë¥¼ (ê±°ê¾¸ë¡œ) ì¬êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# ì´ ê²½ë¡œëŠ” ê°€ëŠ¥í•œ ìµœì†Œí•œì˜ ë¶€ìŒì„ í†µí•´ ìš”ì²­ëœ ì–‘ì˜ ì•¡ì²´ë¥¼ ì¸¡ì •í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ë©°, ë”°ë¼ì„œ í¼ì¦ì— ëŒ€í•œ í•´ê²°ì±…ì…ë‹ˆë‹¤.
#
# ì„œë‘ì˜ í¼ì¦ì—ì„œ, ìœ„ì˜ ê·¸ë¦¼ì€ (3,4,1) ìƒíƒœê°€ íì˜ ì‹œì‘ ë¶€ë¶„ì— ë‚˜íƒ€ë‚˜ëŠ” ì²« ë²ˆì§¸ ìƒíƒœë¡œ, 4 ë‹¨ìœ„ì˜ ì•¡ì²´ë¥¼ í¬í•¨í•œ ì‹œí—˜ê´€ì´ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
# íŒŒë€ìƒ‰ í™”ì‚´í‘œëŠ” ì´ˆê¸° ìƒíƒœ (0,0,8)ì—ì„œ ìƒíƒœ (3,4,1)ë¡œ ê°€ëŠ” ê²½ë¡œë¥¼ ë‚˜íƒ€ë‚´ë©°, ì´ëŠ” í‘œì¤€ ì ˆì°¨ì— ì˜í•´ ë°œê²¬ëœ í¼ì¦ í•´ê²°ì±…ì„ ì„¤ëª…í•©ë‹ˆë‹¤:
# (0, 0,8) â†’ (0,5,3) â†’ (3,2,3) â†’ (0,2,6) â†’ (2,0,6) â†’ (2,5,1) â†’ (3,4,1)
# ì´ê²ƒë“¤ì€ í‘œì¤€ ì ˆì°¨ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ íì˜ ì‹œì‘ ë¶€ë¶„ì— (3,4,1) ìƒíƒœê°€ ë‚˜íƒ€ë‚  ë•Œì˜ ë”•ì…”ë„ˆë¦¬ ğ‘ƒì˜ ë‚´ìš©ì…ë‹ˆë‹¤. íŒŒë€ìƒ‰ í™”ì‚´í‘œëŠ” ìƒíƒœ (3,4,1)ì—ì„œ ì‹œì‘í•˜ì—¬ ë°˜ë³µì ìœ¼ë¡œ ì´ì „ ìƒíƒœë¥¼ ì¡°íšŒí•˜ì—¬
# ì´ˆê¸° ìƒíƒœë¡œ ëŒì•„ê°€ëŠ” ë°©ë²•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ˆê¸° ìƒíƒœëŠ” ë” ì´ìƒ ì´ì „ ìƒíƒœê°€ ì—†ìŠµë‹ˆë‹¤ (ë¹¨ê°„ìƒ‰ ì›).
#
# ì—¬ëŸ¬ë¶„ì˜ ì‘ì—…:
# í•¨ìˆ˜ ì‘ì„±: pour í•¨ìˆ˜ëŠ” ë„¤ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤: ğ‘–) ì‹œí—˜ê´€ì˜ ìƒíƒœ ğ‘, ğ‘–ğ‘–) ì‹œí—˜ê´€ì˜ ìš©ëŸ‰ ğ‘, ğ‘–ğ‘–ğ‘–) ì†ŒìŠ¤ ì‹œí—˜ê´€ ë²ˆí˜¸ ğ‘¥, ğ‘–ğ‘£) ëª©ì ì§€ ì‹œí—˜ê´€ ë²ˆí˜¸ ğ‘¦.
# ìƒíƒœ ğ‘ì—ì„œ ì†ŒìŠ¤ ğ‘¥ì—ì„œ ëª©ì ì§€ ğ‘¦ë¡œ ì•¡ì²´ë¥¼ ë¶“ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°, None ê°’ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°, ì†ŒìŠ¤ ğ‘¥ì—ì„œ ëª©ì ì§€ ğ‘¦ë¡œ ì•¡ì²´ë¥¼ ë¶€ì€ í›„ì˜ ì‹œí—˜ê´€ ìƒíƒœë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
# ë¶€ìŒì€ ì†ŒìŠ¤ê°€ ë¹„ê±°ë‚˜ ëª©ì ì§€ê°€ ê°€ë“ ì°° ë•Œ ì¤‘ í•˜ë‚˜ê°€ ë¨¼ì € ë°œìƒí•  ë•Œê¹Œì§€ ë©ˆì¶¥ë‹ˆë‹¤.
# íŒíŠ¸: ì•¡ì²´ë¥¼ í•œ ì‹œí—˜ê´€ì—ì„œ ë‹¤ë¥¸ ì‹œí—˜ê´€ìœ¼ë¡œ ë¶“ëŠ” ê²ƒì€ ì„¸ ê°€ì§€ ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ëŠ” í‘œì¤€ ì ˆì°¨ì˜ ì„¤ëª…ì—ì„œ ì„¤ëª…ë©ë‹ˆë‹¤.
def pour(state, capacities, x, y):
    # ğ‘–) ì†ŒìŠ¤ ğ‘¥ì™€ ëª©ì ì§€ ğ‘¦ê°€ ë‹¤ë¥¸ ì‹œí—˜ê´€ì¸ ê²½ìš°, ğ‘–ğ‘–) ì†ŒìŠ¤ ğ‘¥ê°€ ë¹„ì–´ ìˆì§€ ì•Šì€ ê²½ìš°, ğ‘–ğ‘–ğ‘–) ëª©ì ì§€ ğ‘¦ê°€ ê°€ë“ ì°¨ ìˆì§€ ì•Šì€ ê²½ìš°ì—ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    if x == y or state[x] == 0 or state[y] == capacities[y]:
        return None
    new_state = list(state)
    new_capacities = list(capacities)
    while new_state[y] != new_capacities[y]:
        if not new_state[x]: break
        new_state[y] += 1
        new_state[x] -= 1
    return tuple(new_state)


# í•¨ìˆ˜ ì‘ì„±: next_states í•¨ìˆ˜ëŠ” ì‹œí—˜ê´€ì˜ ìƒíƒœ ğ‘ì™€ ì‹œí—˜ê´€ì˜ ìš©ëŸ‰ ğ‘ì„ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤.
# ì´ í•¨ìˆ˜ëŠ” í•œ ì‹œí—˜ê´€ì—ì„œ ë‹¤ë¥¸ ì‹œí—˜ê´€ìœ¼ë¡œ ì•¡ì²´ë¥¼ ë¶€ì€ í›„ ë”°ë¼ì˜¬ ìˆ˜ ìˆëŠ” ëª¨ë“  ìƒíƒœë¥¼ í¬í•¨í•˜ëŠ” ì§‘í•©ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
def next_states(state, capacities):
    result = set()
    for x in range(len(state)):
        for y in range(len(state)):
            po = pour(state,capacities,x,y)
            if po:
                result.add(po)
    return result



def step(Queue, Predecessors, capacities):
    # í•¨ìˆ˜ ì‘ì„±: step í•¨ìˆ˜ëŠ” ì„¸ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤: ğ‘–) í ğ‘„(ë¦¬ìŠ¤íŠ¸), ğ‘–ğ‘–) ì„ í–‰ìë¥¼ í¬í•¨í•˜ëŠ” ë”•ì…”ë„ˆë¦¬ ğ‘ƒ(dict), ğ‘–ğ‘–ğ‘–) ì‹œí—˜ê´€ì˜ ìš©ëŸ‰ ğ‘. í ğ‘„ì™€ ë”•ì…”ë„ˆë¦¬ ğ‘ƒì˜ ë‚´ìš©ì€
    # ì‹œí—˜ê´€ í¼ì¦ì„ í•´ê²°í•˜ê¸° ìœ„í•´ í‘œì¤€ ì ˆì°¨ë¥¼ ì ìš©í•˜ëŠ” ë™ì•ˆì˜ í•œ ì‹œì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. í•¨ìˆ˜ëŠ” í ğ‘„ê°€ ë¹„ì–´ ìˆì§€ ì•Šë‹¤ê³  ê°€ì •í•  ìˆ˜ ìˆìœ¼ë©° ì´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ í™•ì¸í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.
    # ì´ í•¨ìˆ˜ëŠ” í‘œì¤€ ì ˆì°¨ì˜ ë‹¨ì¼ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, í ğ‘„ì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ìƒíƒœ ğ‘ë¥¼ ì‚­ì œí•˜ê³ , ì ˆì°¨ì— ë”°ë¼ ìƒíƒœ ğ‘ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆëŠ” ëª¨ë“  ìƒíƒœë¥¼ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
    # ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•  ë•Œ í ğ‘„ì™€ ë”•ì…”ë„ˆë¦¬ ğ‘ƒëŠ” í•„ìš”ì— ë”°ë¼ ì—…ë°ì´íŠ¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ ê°’ì„ ë°˜í™˜í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤ (ì½ê¸°: í•¨ìˆ˜ëŠ” None ê°’ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤).
    # íŒíŠ¸: í ğ‘„ì™€ ë”•ì…”ë„ˆë¦¬ ğ‘ƒ ëª¨ë‘ ì´ë¯¸ ë°©ë¬¸í•œ ìƒíƒœì— ëŒ€í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    curr_state = Queue.pop(0)
    next_p = next_states(curr_state,capacities)
    for np in next_p:
        if np not in Predecessors:
            Queue.append(np)
            Predecessors[np] = curr_state



def path(state, Predecessors):
    # í•¨ìˆ˜ ì‘ì„±: path í•¨ìˆ˜ëŠ” ì‹œí—˜ê´€ì˜ ìƒíƒœ ğ‘ì™€ ì„ í–‰ìê°€ í¬í•¨ëœ ë”•ì…”ë„ˆë¦¬ ğ‘ƒ(dict)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤.
    # ë”•ì…”ë„ˆë¦¬ ğ‘ƒëŠ” ì‹œí—˜ê´€ í¼ì¦ì„ í•´ê²°í•˜ê¸° ìœ„í•´ í‘œì¤€ ì ˆì°¨ë¥¼ ì ìš©í•˜ëŠ” ë™ì•ˆì˜ í•œ ì‹œì ì—ì„œ ì„ í–‰ìë¥¼ ì„¤ëª…í•˜ë©°,
    # ê·¸ ìˆœê°„ì— ìƒíƒœ ğ‘ëŠ” ì´ì „ì— íì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì´ˆê¸° ìƒíƒœì—ì„œ ìƒíƒœ ğ‘ê¹Œì§€ì˜ ê²½ë¡œë¥¼ ì„¤ëª…í•˜ëŠ” ìƒíƒœ ëª©ë¡ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. í•¨ìˆ˜ëŠ” ë”•ì…”ë„ˆë¦¬ ğ‘ƒë¥¼ ìˆ˜ì •í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.
    curr = state
    path_list = []
    while curr:
        path_list.append(curr)
        curr = Predecessors[curr]
    return list(reversed(path_list))

def solution(state, capacities, taget):
    # í•¨ìˆ˜ ì‘ì„±: solution í•¨ìˆ˜ëŠ” ì‹œí—˜ê´€ í¼ì¦ì˜ ì¼ë°˜í™”ëœ ë²„ì „ì„ ì„¤ëª…í•˜ëŠ” ì„¸ ê°œì˜ ì¸ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤:
    # ğ‘–) ì‹œí—˜ê´€ì˜ ì´ˆê¸° ìƒíƒœ ğ‘, ğ‘–ğ‘–) ì‹œí—˜ê´€ì˜ ìš©ëŸ‰ ğ‘, ğ‘–ğ‘–ğ‘–) ìš”ì²­ëœ ì•¡ì²´ì˜ ì–‘ ğ‘£âˆˆâ„•0 (ì •ìˆ˜).
    # í¼ì¦ì— í•´ê²°ì±…ì´ ì—†ëŠ” ê²½ìš° None ê°’ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, í‘œì¤€ ì ˆì°¨ì—ì„œ ì–»ì€ í•´ê²°ì±…ì„ ì—°ì†ì ì¸ ìƒíƒœì˜ ìµœë‹¨ ê²½ë¡œ ëª©ë¡ìœ¼ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
    # ìœ„ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” ìœ íš¨í•œ ì¸ìˆ˜ë§Œ ì „ë‹¬ëœë‹¤ê³  ê°€ì •í•  ìˆ˜ ìˆìœ¼ë©° ì´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ í™•ì¸í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.
    Queue = [state]
    Predecessors = {state: None}

    while Queue:
        curr_state = Queue[0]
        if taget in curr_state:
            return path(curr_state, Predecessors)
        step(Queue, Predecessors, capacities)

    return None

if __name__ == "__main__":
    # print(pour((0, 2, 6), (3, 5, 8), 2, 0))
    # (3, 2, 3)
    # print(pour((0, 2, 6), (3, 5, 8), 2, 1))
    # (0, 5, 3)
    # print(pour((3, 2, 3), (3, 5, 8), 1, 0))
    # print(pour((3, 2, 3), (3, 5, 8), 2, 2))
    #
    # print(next_states((0, 0, 8), (3, 5, 8)))
    # {(0, 5, 3), (3, 0, 5)}
    # print(next_states((0, 5, 3), (3, 5, 8)))
    # {(3, 2, 3), (0, 0, 8), (3, 5, 0)}
    # print(next_states((3, 0, 5), (3, 5, 8)))
    # {(0, 3, 5), (0, 0, 8), (3, 5, 0)}
    # print()
    #
    # queue = [(0, 0, 8)]
    # predecessor = {(0, 0, 8): None}
    #
    # print("step(queue, predecessor, (3, 5, 8))")
    # step(queue, predecessor, (3, 5, 8))
    # print(queue)
    # [(0, 5, 3), (3, 0, 5)]
    # print(predecessor)
    # {(0, 0, 8): None, (0, 5, 3): (0, 0, 8), (3, 0, 5): (0, 0, 8)}
    # print()
    #
    # print("step(queue, predecessor, (3, 5, 8))")
    # step(queue, predecessor, (3, 5, 8))
    # print(queue)
    # [(3, 0, 5), (3, 2, 3), (3, 5, 0)]
    # print(predecessor)
    # {(0, 0, 8): None, (0, 5, 3): (0, 0, 8), (3, 0, 5): (0, 0, 8), (3, 2, 3): (0, 5, 3), (3, 5, 0): (0, 5, 3)}
    # print()
    #
    # print("path((3, 5, 0), predecessor)")
    # print(path((3, 5, 0), predecessor))
    # [(0, 0, 8), (0, 5, 3), (3, 5, 0)]
    # print()

    print("solution((0, 0, 8), (3, 5, 8), 4))")
    print(solution((0, 0, 8), (3, 5, 8), 4))
    [(0, 0, 8), (0, 5, 3), (3, 2, 3), (0, 2, 6), (2, 0, 6), (2, 5, 1), (3, 4, 1)]
    print()

    print("solution((0, 5, 0, 17), (3, 5, 11, 17), 7)")
    print(solution((0, 5, 0, 17), (3, 5, 11, 17), 7))
    [(0, 5, 0, 17), (0, 0, 5, 17), (0, 5, 5, 12), (0, 0, 10, 12), (0, 5, 10, 7)]
    print()

    print("solution((0, 0, 0, 0, 13), (5, 7, 7, 11, 13), 12)")
    print(solution((0, 0, 0, 0, 13), (5, 7, 7, 11, 13), 12))
    [(0, 0, 0, 0, 13), (0, 0, 0, 11, 2), (5, 0, 0, 6, 2), (0, 0, 0, 6, 7), (5, 0, 0, 1, 7), (0, 0, 0, 1, 12)]



# ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ì¼ê³± ì¤„ì´ ìˆìœ¼ë©°, ì´ëŠ” ì—˜ë¦¬ë² ì´í„°ì˜ ê¶¤ì ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤:
#
# ì‹œë®¬ë ˆì´ì…˜í•  ë‹¨ê³„ ìˆ˜ (steps); ì—˜ë¦¬ë² ì´í„°ê°€ ë°©ë¬¸í•˜ëŠ” ê° ì¸µì€ ì‹œë®¬ë ˆì´ì…˜ì˜ ë‹¨ì¼ ë‹¨ê³„ì— í¬í•¨ë©ë‹ˆë‹¤.
# ì‹œë®¬ë ˆì´ì…˜ì´ ì‹œì‘ë˜ëŠ” ì¸µì˜ ë²ˆí˜¸ (start_floor); ë¡œë¹„ëŠ” ë²ˆí˜¸ 0ìœ¼ë¡œ ì§€ì •ë©ë‹ˆë‹¤.
# ìµœê³ ì¸µì— ì§€ì •ëœ ë²ˆí˜¸ (top_floor).
# ì—˜ë¦¬ë² ì´í„°ê°€ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘ ì‹œ ì˜¬ë¼ê°€ëŠ”ì§€ ë‚´ë ¤ê°€ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ì; ìºëŸ¿(caret; ^)ì€ ì—˜ë¦¬ë² ì´í„°ê°€ ì²˜ìŒì— ì˜¬ë¼ê°€ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ê³ ,
# ë¬¸ì vëŠ” ì—˜ë¦¬ë² ì´í„°ê°€ ì²˜ìŒì— ë‚´ë ¤ê°€ëŠ” ê²ƒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
# ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘ ì‹œì˜ 24ì‹œê°„ì œ ì‹œê°„ (start_hour); ì˜ˆë¥¼ ë“¤ì–´, ì‹œë®¬ë ˆì´ì…˜ì´ 23:14ì— ì‹œì‘ë˜ë©´ 23.
# ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘ ì‹œì˜ 24ì‹œê°„ì œ ë¶„ (start_minute); ì˜ˆë¥¼ ë“¤ì–´, ì‹œë®¬ë ˆì´ì…˜ì´ 23:14ì— ì‹œì‘ë˜ë©´ 14.
# ì‹œë®¬ë ˆì´ì…˜ì˜ ì¶œë ¥ ì„¸ë¶€ ìˆ˜ì¤€ì„ ë‚˜íƒ€ë‚´ëŠ” í…ìŠ¤íŠ¸; í…ìŠ¤íŠ¸ verboseëŠ” ì‹œë®¬ë ˆì´ì…˜ì˜ ê° ë‹¨ê³„ ë™ì•ˆ ì¶œë ¥ì´ ìƒì„±ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚´ê³ ,
# í…ìŠ¤íŠ¸ quietëŠ” ì—˜ë¦¬ë² ì´í„°ê°€ start_floorë¥¼ ë°©ë¬¸í•  ë•Œë§Œ ì¶œë ¥ì´ ìƒì„±ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

# ì¶œë ¥
# ì—˜ë¦¬ë² ì´í„°ëŠ” start_floorì—ì„œ ì‹œì‘í•˜ì—¬ ì£¼ì–´ì§„ ë°©í–¥ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. ë„ì°© ì¼ì •ì— í¬í•¨ë˜ì–´ì•¼ í•˜ëŠ” ê° ì¸µì— ëŒ€í•´, í˜„ì¬ ì‹œê°„,
# ì—˜ë¦¬ë² ì´í„°ê°€ ë°©ë¬¸í•œ ì¸µ ë²ˆí˜¸, ì—˜ë¦¬ë² ì´í„°ê°€ í˜„ì¬ ì¸µì„ ë– ë‚˜ëŠ” ë°©í–¥(^ëŠ” ê³„ì† ì˜¬ë¼ê°€ëŠ” ê²½ìš°, vëŠ” ê³„ì† ë‚´ë ¤ê°€ëŠ” ê²½ìš°)ì„ í¬í•¨í•˜ëŠ” ì¤„ì´ ì¶œë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
# ë§ˆì§€ë§‰ ì…ë ¥ ì¤„ì´ í…ìŠ¤íŠ¸ verboseë¥¼ í¬í•¨í•˜ë©´, ì‹œë®¬ë ˆì´ì…˜ ë™ì•ˆ ì—˜ë¦¬ë² ì´í„°ê°€ ë°©ë¬¸í•œ ëª¨ë“  ì¸µì´ ë„ì°© ì¼ì •ì— í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
# ë§ˆì§€ë§‰ ì…ë ¥ ì¤„ì´ í…ìŠ¤íŠ¸ quietë¥¼ í¬í•¨í•˜ë©´, ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘ ì‹œ ì—˜ë¦¬ë² ì´í„°ê°€ ë°©ë¬¸í•œ ì¸µë§Œ ë„ì°© ì¼ì •ì— í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
#
steps = int(input())
floor = int(input())
top_floor = int(input())
up_down = input()
hour = int(input())
minute = int(input())
text = input()


_next = 1
if up_down == 'v': _next = -1
for _ in range(steps):
    if _next < 0: up_down = 'v'
    else:         up_down = '^'
    if text == 'quiet' :
        pass
    else:
        print(f"{hour:02d}:{minute:02d} {floor} [{up_down}]")
    minute += 1
    if minute >= 60:
        minute = 0
        hour += 1
        if hour == 24:
            hour = 0
    floor += _next
    if floor in [top_floor, 0]: _next *= -1



#
#
# # ì…ë ¥
# # steps = 30
# # floor = 6
# # top_floor = 8
# # up_down = '^'
# # hour = 23
# # minute = 50
# # text = verbose
#
# # ì¶œë ¥
# # 23:50 6 [^]
# # 23:51 7 [^]
# # 23:52 8 [v]
# # 23:53 7 [v]
# # 23:54 6 [v]
# # 23:55 5 [v]
# # 23:56 4 [v]
# # 23:57 3 [v]
# # 23:58 2 [v]
# # 23:59 1 [v]
# # 00:00 0 [^]
# # 00:01 1 [^]
# # 00:02 2 [^]
# # 00:03 3 [^]
# # 00:04 4 [^]
# # 00:05 5 [^]
# # 00:06 6 [^]
# # 00:07 7 [^]
# # 00:08 8 [v]
# # 00:09 7 [v]
# # 00:10 6 [v]
# # 00:11 5 [v]
# # 00:12 4 [v]
# # 00:13 3 [v]
# # 00:14 2 [v]
# # 00:15 1 [v]
# # 00:16 0 [^]
# # 00:17 1 [^]
# # 00:18 2 [^]
# # 00:19 3 [^]





